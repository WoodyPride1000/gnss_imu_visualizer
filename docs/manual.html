<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>GNSS-IMU Visualizer 取扱説明書</title>
  <style>
    body {
      font-family: sans-serif;
      line-height: 1.6;
      padding: 2rem;
      max-width: 900px;
      margin: auto;
      background-color: #f9f9f9;
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    code {
      background-color: #eee;
      padding: 2px 4px;
      border-radius: 4px;
    }
    pre {
      background: #eee;
      padding: 1em;
      overflow-x: auto;
      border-radius: 5px;
    }
    ul {
      margin-left: 1.5em;
    }
  </style>
</head>
<body>

  <h1>GNSS-IMU Visualizer 取扱説明書</h1>

  <h2>概要</h2>
  <p>
    このシステムは、GNSS（GPS）およびIMUセンサを使用してリアルタイムに位置・方位情報を取得・可視化します。
    RTK-GNSSの補正やKalman Filterによるデータ統合、履歴誤差の可視化にも対応しています。
  </p>

  <h2>機能一覧</h2>
  <ul>
    <li>GPS/IMUのリアルタイム表示</li>
    <li>Kalman Filter による位置補正</li>
    <li>RTK補正の状態（FIX/FLOAT/NONE）表示</li>
    <li>履歴誤差のグラフ表示</li>
    <li>センサとシミュレータの自動/手動切り替え</li>
    <li>モバイル対応のレスポンシブUI</li>
  </ul>

  <h2>構成ファイル</h2>
  <pre><code>
run.py             - アプリケーションの起動スクリプト
sensor.py          - 実センサ/シミュレータの切替制御
kalman.py          - Kalman Filterの実装
templates/index.html  - UI画面
public/map.js      - 地図描画とSocketIO受信
public/chart.js    - 履歴誤差グラフ表示
docs/manual.html   - 本マニュアル（HTML形式）
  </code></pre>

  <h2>使用環境</h2>
  <ul>
    <li>Python 3.7+</li>
    <li>Flask / Flask-SocketIO</li>
    <li>Leaflet.js / Chart.js（CDN）</li>
    <li>Raspberry Pi対応（IMU/GPS接続時）</li>
  </ul>

  <h2>インストール手順</h2>
  <pre><code>
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python run.py
  </code></pre>
  <p>ブラウザで <code>http://localhost:5000</code> にアクセスします。</p>

  <h2>使い方</h2>
  <ol>
    <li>センサ接続：GPS/IMUを接続し、起動すると自動検出</li>
    <li>データ表示：地図上にリアルタイムで位置・方位を表示</li>
    <li>RTK精度表示：誤差円の色とサイズで精度を可視化</li>
    <li>履歴確認：履歴グラフで位置精度推移を確認</li>
    <li>手動切替：UI上のボタンで実センサ/シミュレータを切り替え</li>
  </ol>

  <h2>注意事項</h2>
  <ul>
    <li>GNSSは屋外で利用することが推奨されます</li>
    <li>IMUは使用前にキャリブレーションが必要な場合があります</li>
    <li>センサ接続が無い場合は自動でシミュレーションに切り替わります</li>
  </ul>

  <h2>サポート</h2>
  <p>
    GitHub: <a href="https://github.com/WoodyPride1970/gnss_imu_visualizer" target="_blank">
    https://github.com/WoodyPride1970/gnss_imu_visualizer</a>
  </p>

  <h2>ライセンス</h2>
  <p>MIT ライセンスに基づいて公開されています。</p>

</body>
</html>
